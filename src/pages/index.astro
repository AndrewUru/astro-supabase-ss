---
import Layout from '../components/layout.astro'
import Nav from '../components/nav.astro'
import { getUser } from '../utils/supabaseServer'
import { accessTokenName, refreshTokenName } from '../utils/config'

// Obtener la sesión del usuario (si la usas en tu layout o Nav)
const accessToken = Astro.cookies.get(accessTokenName)?.value
const refreshToken = Astro.cookies.get(refreshTokenName)?.value
const userData = await getUser({ accessToken, refreshToken })
const isLoggedIn = !!userData
---

<Layout title="Home" isLoggedIn={isLoggedIn}>
  <Nav activeUrl="home" isLoggedIn={isLoggedIn} />
  
  <h1>¡Bienvenido a la página principal!</h1>
  <p>Aquí puedes poner cualquier contenido que desees, en lugar del readme.md.</p>
</Layout>

<style is:global>
  /* Tus estilos globales (opcional) */
  h1 {
    font-size: 2rem;
    margin-bottom: 1rem;
  }
</style>
